import { useEffect } from "react";
import { useMoralis } from "react-moralis";
import { BrowserRouter as Router, Switch, Route, Redirect } from "react-router-dom";
import Account from "components/Account/Account";
import Chains from "components/Chains";
import Lores from "components/Lores";
import Write from "components/Write";
import { Layout } from "antd";
import "antd/dist/antd.css";
import "./style.css";
import MenuItems from "./components/MenuItems";
const { Header } = Layout;

const styles = {
  content: {
    display: "flex",
    justifyContent: "center",
    fontFamily: "Roboto, sans-serif",
    color: "#041836",
    marginTop: "130px",
    padding: "10px",
  },
  header: {
    position: "fixed",
    zIndex: 1,
    width: "100%",
    background: "#fff",
    display: "flex",
    justifyContent: "space-between",
    alignItems: "center",
    fontFamily: "Roboto, sans-serif",
    borderBottom: "2px solid rgba(0, 0, 0, 0.06)",
    padding: "0 20px",
    boxShadow: "0 1px 10px rgb(151 164 175 / 10%)",
  },
  headerRight: {
    display: "flex",
    gap: "20px",
    alignItems: "center",
    fontSize: "15px",
    fontWeight: "600",
  },
};
const App = ({ isServerInfo }) => {
  const { isWeb3Enabled, enableWeb3, isAuthenticated, isWeb3EnableLoading } = useMoralis();

  useEffect(() => {
    const connectorId = window.localStorage.getItem("connectorId");
    if (isAuthenticated && !isWeb3Enabled && !isWeb3EnableLoading) enableWeb3({ provider: connectorId });
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [isAuthenticated, isWeb3Enabled]);

  return (
    <Layout style={{ height: "100vh", overflow: "auto" }}>
      <Router>
        <Header style={styles.header}>
          <Logo />
          <MenuItems />
          <div style={styles.headerRight}>
            <Chains />
            <Account />
          </div>
        </Header>

        <div style={styles.content}>
          <Switch>
            <Route path="/lores">
              <Lores />
            </Route>
            <Route path="/write">
              <Write />
            </Route>
            <Route path="/">
              <Redirect to="/lores" />
            </Route>
            <Route path="/nonauthenticated">
              <>Please login using the "Authenticate" button</>
            </Route>
          </Switch>
        </div>
      </Router>
    </Layout>
  );
};

export const Logo = () => (
  <div style={{ display: "flex" }}>
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
    width="115.000000pt" height="45.500000pt" viewBox="0 0 1150.000000 455.000000"
    preserveAspectRatio="xMidYMid meet">

      <g transform="translate(0.000000,455.000000) scale(0.100000,-0.100000)"
      fill="#000000" stroke="none">
        <path d="M1237 3463 c-4 -3 -7 -28 -7 -55 l0 -49 53 3 52 3 3 53 3 52 -49 0
        c-27 0 -52 -3 -55 -7z"/>
        <path d="M1470 3420 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M1720 3420 l0 -50 66 0 65 0 -3 48 -3 47 -62 3 -63 3 0 -51z"/>
        <path d="M1977 3463 c-4 -3 -7 -26 -7 -50 l0 -43 65 0 65 0 0 50 0 50 -58 0
        c-32 0 -62 -3 -65 -7z"/>
        <path d="M2230 3420 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M2480 3420 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M2730 3420 l0 -50 66 0 65 0 -3 48 -3 47 -62 3 -63 3 0 -51z"/>
        <path d="M2987 3463 c-4 -3 -7 -26 -7 -50 l0 -43 65 0 65 0 0 50 0 50 -58 0
        c-32 0 -62 -3 -65 -7z"/>
        <path d="M3242 3418 l3 -53 48 -3 47 -3 0 55 0 56 -51 0 -50 0 3 -52z"/>
        <path d="M1232 3168 l3 -63 48 -3 47 -3 0 65 0 66 -50 0 -51 0 3 -62z"/>
        <path d="M3250 3165 l0 -65 45 0 45 0 0 65 0 65 -45 0 -45 0 0 -65z"/>
        <path d="M2240 3165 c0 -4 -307 -1285 -325 -1358 l-7 -27 463 2 464 3 26 105
        c14 58 29 117 32 133 l7 27 -305 0 c-168 0 -305 2 -305 4 0 7 260 1090 265
        1104 3 9 -32 12 -155 12 -88 0 -160 -2 -160 -5z"/>
        <path d="M850 3034 l0 -55 53 3 52 3 3 53 3 52 -55 0 -56 0 0 -56z"/>
        <path d="M1090 3040 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M1230 2915 l0 -65 50 0 50 0 0 65 0 65 -50 0 -50 0 0 -65z"/>
        <path d="M3250 2925 l0 -56 45 31 c33 22 45 38 45 55 0 23 -4 25 -45 25 l-45
        0 0 -55z"/>
        <path d="M857 2853 c-4 -3 -7 -33 -7 -65 l0 -58 50 0 50 0 0 65 0 65 -43 0
        c-24 0 -47 -3 -50 -7z"/>
        <path d="M3530 2846 c-151 -43 -283 -161 -363 -321 -56 -112 -71 -182 -71
        -330 0 -108 3 -140 21 -187 45 -122 127 -199 247 -234 82 -23 259 -16 335 14
        215 84 359 290 393 560 27 224 -54 404 -215 478 -56 26 -74 29 -182 31 -76 1
        -137 -3 -165 -11z m221 -274 c50 -56 63 -166 34 -290 -48 -201 -187 -313 -321
        -257 -123 51 -96 384 43 517 59 57 89 70 157 65 51 -3 63 -8 87 -35z"/>
        <path d="M4685 2849 c-33 -5 -107 -22 -164 -37 l-105 -28 -118 -489 c-64 -270
        -118 -496 -118 -502 0 -19 289 -18 296 0 2 7 47 187 98 401 51 213 98 392 104
        398 18 18 162 21 232 5 36 -9 68 -13 72 -9 12 12 87 226 82 234 -17 27 -264
        45 -379 27z"/>
        <path d="M5560 2846 c-268 -76 -452 -316 -467 -611 -6 -118 6 -190 48 -274 37
        -73 91 -124 178 -164 60 -28 77 -32 188 -35 122 -4 211 6 311 35 l54 15 -6 41
        c-3 23 -8 77 -12 120 -5 67 -9 77 -23 72 -105 -41 -292 -51 -356 -19 -45 22
        -72 56 -81 102 l-6 32 54 0 c210 0 413 63 508 159 72 73 94 128 95 241 0 85
        -3 101 -27 146 -57 109 -151 155 -311 153 -56 0 -122 -6 -147 -13z m190 -241
        c53 -48 29 -136 -48 -178 -57 -30 -172 -57 -246 -57 -63 0 -66 6 -41 68 37 88
        108 157 186 181 48 15 125 7 149 -14z"/>
        <path d="M7710 2846 c-97 -27 -183 -79 -266 -161 -68 -67 -89 -96 -127 -175
        -73 -149 -93 -296 -63 -441 33 -155 127 -255 280 -295 100 -27 333 -13 454 27
        l34 11 -6 67 c-4 36 -9 89 -12 117 l-6 51 -71 -19 c-104 -27 -238 -27 -300 0
        -38 17 -52 30 -67 64 -29 64 -27 68 33 68 84 0 216 19 292 41 144 43 234 109
        282 208 25 50 28 67 28 156 0 91 -2 104 -27 147 -62 105 -154 148 -311 147
        -56 0 -122 -6 -147 -13z m197 -250 c47 -55 19 -137 -60 -175 -79 -38 -297 -70
        -297 -43 0 33 39 110 77 152 67 75 125 102 207 96 39 -3 55 -9 73 -30z"/>
        <path d="M8746 2850 c-76 -12 -248 -58 -260 -70 -6 -6 -246 -977 -246 -997 0
        -2 67 -3 149 -3 l149 0 10 43 c6 23 50 204 97 402 48 198 90 364 94 368 16 17
        175 19 241 3 35 -8 65 -14 66 -13 5 5 84 226 84 235 0 29 -262 51 -384 32z"/>
        <path d="M9505 2847 c-120 -31 -199 -89 -244 -179 -27 -54 -31 -71 -31 -145 0
        -146 43 -205 214 -290 61 -30 123 -67 139 -81 38 -36 37 -82 -3 -116 -38 -32
        -80 -40 -183 -34 -66 3 -98 11 -163 39 l-81 36 -51 -114 -51 -115 62 -28 c86
        -41 189 -60 316 -60 136 0 198 12 287 54 128 61 184 139 192 269 10 160 -39
        228 -237 332 -128 67 -159 97 -144 141 5 15 22 37 37 48 42 32 176 29 275 -7
        41 -14 77 -24 79 -22 16 15 99 211 93 218 -5 4 -41 20 -82 34 -65 24 -91 27
        -224 30 -98 1 -168 -2 -200 -10z"/>
        <path d="M10590 2846 c-268 -76 -452 -316 -467 -611 -6 -118 6 -190 48 -274
        37 -73 91 -124 178 -164 60 -28 77 -32 188 -35 122 -4 211 6 311 35 l54 15 -6
        41 c-3 23 -8 77 -12 120 -5 67 -9 77 -23 72 -105 -41 -292 -51 -356 -19 -45
        22 -72 56 -81 100 l-6 31 105 6 c312 19 493 121 543 304 45 167 -25 317 -174
        373 -62 24 -228 26 -302 6z m190 -241 c53 -48 29 -136 -48 -178 -57 -30 -172
        -57 -246 -57 -63 0 -66 6 -41 68 37 88 108 157 186 181 48 15 125 7 149 -14z"/>
        <path d="M6200 2808 c0 -66 30 -374 50 -511 20 -137 70 -402 91 -479 l10 -38
        123 0 124 0 49 58 c223 260 518 752 587 980 l7 22 -156 0 c-152 0 -156 -1
        -165 -22 -79 -195 -109 -260 -161 -353 -75 -136 -188 -315 -199 -315 -13 0
        -36 257 -46 517 l-7 173 -154 0 -153 0 0 -32z"/>
        <path d="M1237 2723 c-4 -3 -7 -33 -7 -65 l0 -58 50 0 50 0 0 65 0 65 -43 0
        c-24 0 -47 -3 -50 -7z"/>
        <path d="M477 2713 c-4 -3 -7 -28 -7 -55 l0 -49 53 3 52 3 3 53 3 52 -49 0
        c-27 0 -52 -3 -55 -7z"/>
        <path d="M710 2670 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M850 2540 l0 -60 50 0 50 0 0 60 0 60 -50 0 -50 0 0 -60z"/>
        <path d="M472 2418 l3 -63 48 -3 47 -3 0 65 0 66 -50 0 -51 0 3 -62z"/>
        <path d="M1230 2410 l0 -60 50 0 50 0 0 60 0 60 -50 0 -50 0 0 -60z"/>
        <path d="M852 2288 l3 -63 48 -3 47 -3 0 65 0 66 -50 0 -51 0 3 -62z"/>
        <path d="M470 2165 l0 -65 50 0 50 0 0 65 0 65 -50 0 -50 0 0 -65z"/>
        <path d="M1232 2158 l3 -63 48 -3 47 -3 0 65 0 66 -50 0 -51 0 3 -62z"/>
        <path d="M850 2035 l0 -65 50 0 50 0 0 65 0 65 -50 0 -50 0 0 -65z"/>
        <path d="M477 1973 c-4 -3 -7 -33 -7 -65 l0 -58 50 0 50 0 0 65 0 65 -43 0
        c-24 0 -47 -3 -50 -7z"/>
        <path d="M1230 1905 l0 -65 50 0 50 0 0 65 0 65 -50 0 -50 0 0 -65z"/>
        <path d="M857 1843 c-4 -3 -7 -33 -7 -65 l0 -58 50 0 50 0 0 65 0 65 -43 0
        c-24 0 -47 -3 -50 -7z"/>
        <path d="M470 1660 l0 -60 50 0 50 0 0 60 0 60 -50 0 -50 0 0 -60z"/>
        <path d="M1237 1713 c-4 -3 -7 -33 -7 -65 l0 -58 50 0 50 0 0 65 0 65 -43 0
        c-24 0 -47 -3 -50 -7z"/>
        <path d="M3250 1620 c0 -29 2 -30 46 -30 36 0 45 3 42 16 -2 12 -62 42 -85 44
        -2 0 -3 -13 -3 -30z"/>
        <path d="M850 1530 l0 -60 50 0 50 0 0 60 0 60 -50 0 -50 0 0 -60z"/>
        <path d="M472 1408 l3 -63 48 -3 47 -3 0 65 0 66 -50 0 -51 0 3 -62z"/>
        <path d="M1232 1408 l3 -53 53 -3 53 -3 -3 53 -3 53 -53 3 -53 3 3 -53z"/>
        <path d="M3247 1453 c-4 -3 -7 -28 -7 -55 l0 -48 50 0 50 0 0 55 0 55 -43 0
        c-24 0 -47 -3 -50 -7z"/>
        <path d="M1470 1400 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M1720 1400 l0 -51 63 3 62 3 3 48 3 47 -65 0 -66 0 0 -50z"/>
        <path d="M1972 1403 l3 -48 63 -3 62 -3 0 51 0 50 -66 0 -65 0 3 -47z"/>
        <path d="M2230 1400 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M2480 1400 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M2730 1400 l0 -51 63 3 62 3 3 48 3 47 -65 0 -66 0 0 -50z"/>
        <path d="M2982 1403 l3 -48 63 -3 62 -3 0 51 0 50 -66 0 -65 0 3 -47z"/>
        <path d="M852 1278 l3 -63 48 -3 47 -3 0 65 0 66 -50 0 -51 0 3 -62z"/>
        <path d="M2870 1275 l0 -65 45 0 45 0 0 65 0 65 -45 0 -45 0 0 -65z"/>
        <path d="M470 1155 l0 -65 50 0 50 0 0 65 0 65 -50 0 -50 0 0 -65z"/>
        <path d="M850 1036 l0 -56 56 0 55 0 -3 53 -3 52 -52 3 -53 3 0 -55z"/>
        <path d="M2867 1083 c-4 -3 -7 -28 -7 -55 l0 -48 50 0 50 0 0 55 0 55 -43 0
        c-24 0 -47 -3 -50 -7z"/>
        <path d="M1090 1030 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M1340 1030 l0 -50 66 0 65 0 -3 48 -3 47 -62 3 -63 3 0 -51z"/>
        <path d="M1597 1073 c-4 -3 -7 -26 -7 -50 l0 -43 65 0 65 0 0 50 0 50 -58 0
        c-32 0 -62 -3 -65 -7z"/>
        <path d="M1850 1030 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M2100 1030 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M2350 1030 l0 -50 66 0 65 0 -3 48 -3 47 -62 3 -63 3 0 -51z"/>
        <path d="M2607 1073 c-4 -3 -7 -26 -7 -50 l0 -43 65 0 65 0 0 50 0 50 -58 0
        c-32 0 -62 -3 -65 -7z"/>
        <path d="M477 963 c-4 -3 -7 -33 -7 -65 l0 -58 50 0 50 0 0 65 0 65 -43 0
        c-24 0 -47 -3 -50 -7z"/>
        <path d="M2490 905 l0 -65 45 0 45 0 0 65 0 65 -45 0 -45 0 0 -65z"/>
        <path d="M472 658 l3 -53 53 -3 53 -3 -3 53 -3 53 -53 3 -53 3 3 -53z"/>
        <path d="M2487 703 c-4 -3 -7 -28 -7 -55 l0 -48 50 0 50 0 0 55 0 55 -43 0
        c-24 0 -47 -3 -50 -7z"/>
        <path d="M710 650 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M960 650 l0 -51 63 3 62 3 3 48 3 47 -65 0 -66 0 0 -50z"/>
        <path d="M1212 653 l3 -48 63 -3 62 -3 0 51 0 50 -66 0 -65 0 3 -47z"/>
        <path d="M1470 650 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M1720 650 l0 -50 60 0 60 0 0 50 0 50 -60 0 -60 0 0 -50z"/>
        <path d="M1970 650 l0 -51 63 3 62 3 3 48 3 47 -65 0 -66 0 0 -50z"/>
        <path d="M2222 653 l3 -48 63 -3 62 -3 0 51 0 50 -66 0 -65 0 3 -47z"/>
      </g>
    </svg>
  </div>
);

export default App;
